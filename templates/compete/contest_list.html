{% extends 'base.html' %}

{% block title %}
    Contests - CodeHighp
{% endblock %}

{% block body %}
<main class="fullwidth">
<h2>Contests</h2>
<table>
    <thead>
        <tr>
            <th>Name</th>
            <th>Authors</th>
            <th>Starts</th>
            <th>Duration</th>
            <th></th>
            <th></th>
        </tr>
    </thead>
    <tbody>
    {% for contest in contest_list %}
        <tr>
            <td>
                <b>{{ contest.name }}</b><br />
                {% if contest.reg %}
                    {{ contest.reg.get_status_display }}.
                {% elif contest.registration_open %}
                    <a href="{% url 'contest_register' contest.id %}">Register</a>
                {% endif %}
                {% if contest.status != contest.NOT_STARTED %}
                    <a href="{% url 'contest' contest.id %}">Enter</a>
                {% endif %}
            </td>
            <td>
                {% for author in contest.authors.all %}
                    {{ author.html_link }}<br />
                {% endfor %}
            </td>
            <td>{{ contest.start_date }}</td>
            <td>{{ contest.duration|default:"Infinite" }}</td>
            <td>{{ contest.timer|safe }}</td>
            <td>
                <span class="icon-user"></span>
                {{ contest.num_participants }}
            </td>
        </tr>
    {% endfor %}
    </tbody>
</table>

</main>
{% endblock %}